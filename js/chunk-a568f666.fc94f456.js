(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a568f666"],{"0c8e":function(t,e,s){},"1d1d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{id:"reporting",tag:"section"}},[s("v-row",{staticClass:"mt-5"},[s("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[s("v-sheet",{attrs:{width:"640"}},[s("p",{staticClass:"text-center my-1 font-weight-black"},[t._v("교육결과 보고서")]),s("v-sheet",[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3",attrs:{width:"20%"}},[t._v("소속 ")]),s("td",{staticClass:"text-left",attrs:{width:"44%"}},[t._v(" 설비관리팀")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 ")]),s("td",{staticClass:"text-left",attrs:{width:"18%"}},[t._v(" "+t._s(t.workerInfo.name))])]),s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육일시 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.workerInfo.reg_dt))])]),s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육과정명 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.workInfo[0].name))])])])])],1),s("v-sheet",{staticClass:"mt-5"},[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v("평가항목 ")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("기준점수 ")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 점수")])])]),s("tbody",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"4"}},[t._v("1. 작업시작 전"),s("br"),t._v(" 준비단계"),s("br"),t._v("(30점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업가이드 숙지")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 5점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" "+t._s(t.guideScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업허가서 발행")]),s("td",{staticClass:"text-center"},[t._v(" 5점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.permitScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 적합한 보호구 및 안전장치 선택여부")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.equipScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 산소농도측정기 작동상태 확인 및 농도측정")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.oxygenInitScore))])]),s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("2. 작업 중 점검"),s("br"),t._v(" 및 조치사항"),s("br"),t._v("(20점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업 중 산소농도 측정여부")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 15점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" "+t._s(t.oxygenWorkScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업시간 준수여부")]),s("td",{staticClass:"text-center"},[t._v(" 5점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.workTimeScore))])]),s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("3. 돌발상황에"),s("br"),t._v(" 대한 대응"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 돌발상황 발생 인지여부")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 20점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" "+t._s(t.outbreakRecognizeScore))])]),t.GE_WORKER_RESULT.outbreak_isresponse?s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 돌발상황 발생 대처여부")]),s("td",{staticClass:"text-center"},[t._v(" 30점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.outbreakResponseScore))])]):s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 돌발상황 발생장소로부터 대피여부")]),s("td",{staticClass:"text-center"},[t._v(" 30점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.outbreakEvacuateScore))])])]),s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v(" 총 점")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(" 100점")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(" "+t._s(t.totalScore))])])])])],1),s("v-sheet",{staticClass:"mt-5"},[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3"},[t._v("교육강평")])])]),s("tbody",[s("tr",[s("td",{staticStyle:{height:"150px"}})])])])],1)],1)],1)],1),s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"ma-5",attrs:{color:"primary",depressed:""},on:{click:t.submitReport}},[t._v(" 제출하기 ")]),s("v-btn",{attrs:{color:"success",depressed:""},on:{click:t.generatePDF}},[t._v(" Generate PDF ")])],1),s("div",[s("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"교육결과보고서","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px","html-to-pdf-options":t.htmlToPdfOptions},on:{progress:function(e){return t.onProgress(e)},hasStartedGeneration:function(e){return t.hasStartedGeneration()},hasGenerated:function(e){return t.hasGenerated(e)}}},[s("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[s("section",{staticClass:"pdf-item"},[s("section",{staticClass:"mt-10 mlr-5"},[s("p",{staticClass:"text-center mb-1 font-weight-black fs-20"},[t._v("교육결과 보고서")])]),s("section",{staticClass:"mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3",attrs:{width:"20%"}},[t._v("소속 ")]),s("td",{staticClass:"text-left",attrs:{width:"44%"}},[t._v(" 설비관리팀")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 ")]),s("td",{staticClass:"text-left",attrs:{width:"18%"}},[t._v(" "+t._s(t.workerInfo.name))])]),s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육일시 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.workerInfo.reg_dt))])]),s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육과정명 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.workInfo[0].name))])])])])]),s("section",{staticClass:"mt-3 mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v("평가항목 ")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("기준점수 ")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 점수")])])]),s("tbody",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"4"}},[t._v("1. 작업시작 전"),s("br"),t._v(" 준비단계"),s("br"),t._v("(30점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업가이드 숙지")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 5점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.guideScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업허가서 발행")]),s("td",{staticClass:"text-center"},[t._v(" 5점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.permitScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 적합한 보호구 및 안전장치 선택여부")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.equipScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 산소농도측정기 작동상태 확인 및 농도측정")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.oxygenInitScore))])]),s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("2. 작업 중 점검"),s("br"),t._v(" 및 조치사항"),s("br"),t._v("(20점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업 중 산소농도 측정여부")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 15점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.oxygenWorkScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업시간 준수여부")]),s("td",{staticClass:"text-center"},[t._v(" 5점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.workTimeScore))])]),s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"3"}},[t._v("3. 돌발상황에"),s("br"),t._v(" 대한 대응"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 돌발상황 발생 인지여부")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 20점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.outbreakRecognizeScore))])]),t.GE_WORKER_RESULT.outbreak_isresponse?s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 돌발상황 발생 대처여부")]),s("td",{staticClass:"text-center"},[t._v(" 30점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.outbreakResponseScore))])]):s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 돌발상황 발생장소로부터 대피여부")]),s("td",{staticClass:"text-center"},[t._v(" 30점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.outbreakEvacuateScore))])])]),s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v(" 총 점")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(" 100점")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(t._s(t.totalScore))])])])])]),s("section",{staticClass:"mt-3 mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3"},[t._v("교육강평")])])]),s("tbody",[s("tr",[s("td",{staticStyle:{height:"150px"}})])])])])])])])],1),s("v-snackbar",{attrs:{vertical:t.snackbar.vertical},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"indigo",text:""},on:{click:function(e){t.snackbar.isSnackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.isSnackbar,callback:function(e){t.$set(t.snackbar,"isSnackbar",e)},expression:"snackbar.isSnackbar"}},[t._v(" "+t._s(t.snackbar.message)+" ")])],1)},r=[],i=s("5530"),n=(s("d3b7"),s("e9c4"),s("4de4"),s("2f62")),c=s("0063"),o=s("6480"),l="workStore",d="workerStore",_="workerResultStore",h={components:{VueHtml2pdf:o["a"]},name:"Reporting",data:function(){return{htmlToPdfOptions:{margin:0,filename:"교육결과보고서.pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:1,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}},snackbar:{isSnackbar:!1,vertical:!0,message:""}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(n["c"])(l,["GE_WORK_LIST"])),Object(n["c"])(d,["GE_WORKER"])),Object(n["c"])(_,["GE_WORKER_RESULT","GE_WORKER_RESULT_LIST"])),{},{workInfo:function(){var t=this,e=c["a"].from(this.GE_WORK_LIST).where((function(e){return e.work_id===t.GE_WORKER.work_id})).toArray();return e},workerInfo:function(){return this.GE_WORKER},guideScore:function(){return this.GE_WORKER_RESULT.guide_isguide?5:0},permitScore:function(){return this.GE_WORKER_RESULT.permit_ispermit?5:0},equipScore:function(){var t=this.GE_WORKER_RESULT.equip_totprotect+this.GE_WORKER_RESULT.equip_totsafety,e=this.GE_WORKER_RESULT.equip_chkprotect+this.GE_WORKER_RESULT.equip_chksafety;return 0===e?0:e===t?10:Math.floor(e/t*10)},oxygenInitScore:function(){return this.GE_WORKER_RESULT.oxygen_isinit?10:0},oxygenWorkScore:function(){return this.GE_WORKER_RESULT.oxygen_iswork?15:0},workTimeScore:function(){return this.GE_WORKER_RESULT.work_istime?5:0},outbreakRecognizeScore:function(){return this.GE_WORKER_RESULT.outbreak_isrecognize?20:0},outbreakResponseScore:function(){return this.GE_WORKER_RESULT.outbreak_isResponse?30:0},outbreakEvacuateScore:function(){return this.GE_WORKER_RESULT.outbreak_isevacuate?30:0},totalScore:function(){var t=this.guideScore+this.permitScore+this.equipScore+this.oxygenInitScore+this.oxygenWorkScore+this.workTimeScore+this.outbreakRecognizeScore;return this.GE_WORKER_RESULT.outbreak_isresponse?t+this.outbreakResponseScore:t+this.outbreakEvacuateScore}}),watch:{},mounted:function(){this.initgQuery()},beforeDestroy:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(_,["AC_WORKER_RESULT","AC_WORKER_RESULT_PUSH","AC_WORKER_RESULT_LIST"])),{},{initgQuery:function(){var t=this.GE_WORKER_RESULT;console.log("query",JSON.stringify(t,null,2))},submitReport:function(){var t=this;console.log("submitReport");var e=this.GE_WORKER_RESULT_LIST.filter((function(e){return e.worker_id===t.GE_WORKER.worker_id&&e.work_id===t.workInfo[0].work_id}));return 0===e.length?(this.GE_WORKER_RESULT.reg_dt=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.AC_WORKER_RESULT_PUSH(this.GE_WORKER_RESULT),void this.setSnackbar("제출했습니다.")):void this.setSnackbar("이미 제출했습니다.")},setSnackbar:function(t){this.snackbar.isSnackbar=!0,this.snackbar.message=t,this.snackbar.vertical=!0},generatePDF:function(){this.$refs.html2Pdf.generatePdf()},onProgress:function(t){console.log("onProgress-event",t)},hasStartedGeneration:function(){console.log("hasStartedGeneration")},hasGenerated:function(t){console.log("hasGenerated-event",t)}})},v=h,f=(s("d1fc"),s("2877")),x=s("6544"),b=s.n(x),u=s("8336"),w=s("62ad"),g=s("a523"),C=s("0fd9"),p=s("8dd9"),R=s("1f4f"),S=s("2db4"),E=Object(f["a"])(v,a,r,!1,null,"46690120",null);e["default"]=E.exports;b()(E,{VBtn:u["a"],VCol:w["a"],VContainer:g["a"],VRow:C["a"],VSheet:p["a"],VSimpleTable:R["a"],VSnackbar:S["a"]})},d1fc:function(t,e,s){"use strict";s("0c8e")}}]);
//# sourceMappingURL=chunk-a568f666.fc94f456.js.map