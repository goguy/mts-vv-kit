(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48448c76"],{"41cd":function(t,e,s){"use strict";s("cd75")},cd75:function(t,e,s){},d4df:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{id:"WorkerResultInfoDiagstandard",fluid:"",tag:"section"}},[s("v-card",[s("v-card-title",[t._v(" Report ")]),s("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[s("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[s("v-card-text",[s("v-row",{staticClass:"mt-5"},[s("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[s("v-sheet",{attrs:{width:"700"}},[s("p",{staticClass:"text-center my-1 font-weight-black"},[t._v("교육결과 보고서")]),s("v-sheet",[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3",attrs:{width:"20%"}},[t._v("소속 ")]),s("td",{staticClass:"text-left",attrs:{width:"44%"}},[t._v(" 설비관리팀")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 ")]),s("td",{staticClass:"text-left",attrs:{width:"18%"}},[t._v(" "+t._s(t.dialogParam.worker_name))])]),s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육일시 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.reg_dt))])]),s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육과정명 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.work_name))])])])])],1),s("v-sheet",{staticClass:"mt-5"},[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v("평가항목 ")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("기준점수 ")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 점수")])])]),s("tbody",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"3"}},[t._v("1. 작업시작 전"),s("br"),t._v(" 준비단계"),s("br"),t._v("(30점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업가이드 숙지")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" "+t._s(t.guideScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업허가서 발행")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.permitScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 적합한 보호구 및 안전장치 선택여부")]),s("td",{staticClass:"text-center"},[t._v(" 30점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.equipScore))])]),s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("2. 작업 처리 사항"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"40%"}},[t._v(" 작업시간 준수여부")]),s("td",{staticClass:"text-center",attrs:{width:"20%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"20%"}},[t._v(" "+t._s(t.workTimeScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업 확인 여부")]),s("td",{staticClass:"text-center"},[t._v(" 40점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.workConfirmScore))])])]),s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"60%",colspan:"2"}},[t._v(" 총 점")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%"}},[t._v(" 100점")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%"}},[t._v(" "+t._s(t.totalScore))])])])])],1),s("v-sheet",{staticClass:"mt-5"},[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3"},[t._v("교육강평")])])]),s("tbody",[s("tr",[s("td",{staticStyle:{height:"150px"}},[s("validation-provider",{attrs:{name:"editedItem.rmk",rules:"required|max:50"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("v-text-field",{attrs:{label:"교육강평",counter:50,"error-messages":a},model:{value:t.editedItem.rmk,callback:function(e){t.$set(t.editedItem,"rmk",e)},expression:"editedItem.rmk"}})]}}],null,!0)})],1)])])]),s("div",[s("v-checkbox",{staticClass:"font-weight-bold",attrs:{label:"합격여부"},model:{value:t.editedItem.is_pass,callback:function(e){t.$set(t.editedItem,"is_pass",e)},expression:"editedItem.is_pass"}})],1)],1)],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-4",attrs:{type:"submit",disabled:a},on:{click:t.save}},[t._v(" submit ")]),s("v-btn",{on:{click:t.clear}},[t._v(" clear ")]),s("v-btn",{attrs:{color:"success",depressed:""},on:{click:t.generatePDF}},[t._v(" Generate PDF ")]),s("v-btn",{attrs:{color:"green darken-1"},nativeOn:{click:function(e){return t.close.apply(null,arguments)}}},[t._v("Close ")])],1)],1)]}}])})],1),s("div",[s("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"교육결과보고서","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px","html-to-pdf-options":t.htmlToPdfOptions},on:{progress:function(e){return t.onProgress(e)},hasStartedGeneration:function(e){return t.hasStartedGeneration()},hasGenerated:function(e){return t.hasGenerated(e)}}},[s("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[s("section",{staticClass:"pdf-item"},[s("section",{staticClass:"mt-10 mlr-5"},[s("p",{staticClass:"text-center mb-1 font-weight-black fs-20"},[t._v("교육결과 보고서")])]),s("section",{staticClass:"mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3",attrs:{width:"20%"}},[t._v("소속 ")]),s("td",{staticClass:"text-left",attrs:{width:"44%"}},[t._v(" 설비관리팀")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 ")]),s("td",{staticClass:"text-left",attrs:{width:"18%"}},[t._v(" "+t._s(t.dialogParam.worker_name))])]),s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육일시 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.reg_dt))])]),s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육과정명 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.work_name))])])])])]),s("section",{staticClass:"mt-3 mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v("평가항목 ")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("기준점수 ")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 점수")])])]),s("tbody",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"3"}},[t._v("1. 작업시작 전"),s("br"),t._v(" 준비단계"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업가이드 숙지")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.guideScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업허가서 발행")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.permitScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 적합한 보호구 및 안전장치 선택여부")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.equipScore))])]),s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("2. 작업 처리 사항"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업 중 산소농도 측정여부")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.workTimeScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업 확인 여부")]),s("td",{staticClass:"text-center"},[t._v(" 40점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.workConfirmScore))])])]),s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v(" 총 점")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(" 100점")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(t._s(t.totalScore))])])])])]),s("section",{staticClass:"mt-3 mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3"},[t._v("교육강평")])])]),s("tbody",[s("tr",[s("td",{staticStyle:{height:"150px"}})])])])])])])])],1),s("v-snackbar",{attrs:{vertical:t.snackbar.vertical},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"indigo",text:""},on:{click:function(e){t.snackbar.isSnackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.isSnackbar,callback:function(e){t.$set(t.snackbar,"isSnackbar",e)},expression:"snackbar.isSnackbar"}},[t._v(" "+t._s(t.snackbar.message)+" ")])],1)},r=[],i=s("5530"),c=(s("e9c4"),s("d3b7"),s("a15b"),s("b0c0"),s("2f62")),n=s("0063"),o=s("6480"),l=s("4c93"),d=s("7bb1"),_="userStore",h="workStore",f="workerStore",u="workerResultStore",b="workerResultItemStore",m="resultStore",v="resultItemStore",g="workerResultEvalStore";Object(d["d"])("eager"),Object(d["c"])("digits",Object(i["a"])(Object(i["a"])({},l["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(d["c"])("required",Object(i["a"])(Object(i["a"])({},l["g"]),{},{message:"{_field_} can not be empty"})),Object(d["c"])("max",Object(i["a"])(Object(i["a"])({},l["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(d["c"])("regex",Object(i["a"])(Object(i["a"])({},l["f"]),{},{message:"{_field_} {_value_} does not match {regex}"})),Object(d["c"])("email",Object(i["a"])(Object(i["a"])({},l["b"]),{},{message:"Email must be valid"}));var w={components:{VueHtml2pdf:o["a"],ValidationProvider:d["b"],ValidationObserver:d["a"]},name:"WorkerResultInfoDiagstandard",props:{dialogParam:Object},data:function(){return{editedIndex:-1,editedItem:{worker_id:0,work_id:0,result_id:0,user_email:"",is_pass:"",rmk:""},defaultItem:{worker_id:0,work_id:0,result_id:0,user_email:"",is_pass:"",rmk:""},payload:{index:0,workerResultEval:[]},workerResultItemList:[],htmlToPdfOptions:{margin:0,filename:"교육결과보고서.pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:1,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}},snackbar:{isSnackbar:!1,vertical:!0,message:""}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["c"])(_,["GE_USER"])),Object(c["c"])(h,["GE_WORK_LIST"])),Object(c["c"])(f,["GE_WORKER"])),Object(c["c"])(u,["GE_WORKER_RESULT","GE_WORKER_RESULT_LIST"])),Object(c["c"])(b,["GE_WORKER_RESULT_ITEM","GE_WORKER_RESULT_ITEM_LIST"])),Object(c["c"])(m,["GE_RESULT","GE_RESULT_LIST"])),Object(c["c"])(v,["GE_RESULT_ITEM","GE_RESULT_ITEM_LIST"])),Object(c["c"])(g,["GE_WORKER_RESULT_EVAL","GE_WORKER_RESULT_EVAL_LIST"])),{},{guideScore:function(){return this.getResultItemScore("guide")},permitScore:function(){return this.getResultItemScore("permit")},equipScore:function(){return this.getResultItemScore("equip_choice")},workTimeScore:function(){return this.getResultItemScore("work_time")},workConfirmScore:function(){return this.getResultItemScore("work_confirm")},totalScore:function(){var t=this.guideScore+this.permitScore+this.equipScore+this.workTimeScore+this.workConfirmScore;return t}}),mounted:function(){console.log("dialogParam",JSON.stringify(this.dialogParam,null,2)),this.setWorkerResultEvalList()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(g,["AC_WORKER_RESULT_EVAL","AC_WORKER_RESULT_EVAL_PUSH","AC_WORKER_RESULT_EVAL_EDIT","AC_WORKER_RESULT_EVAL_DEL","AC_WORKER_RESULT_EVAL_LIST"])),{},{setWorkerResultEvalList:function(){var t=this,e=n["a"].from(this.GE_WORKER_RESULT_EVAL_LIST).where((function(e){return e.worker_id===t.dialogParam.worker_id&&e.work_id===t.dialogParam.work_id&&e.result_id===t.dialogParam.result_id})).toArray();console.log("query",JSON.stringify(e,null,2)),e.length>0&&(this.editedIndex=e[0].result_id,this.editedItem.rmk=e[0].rmk,this.editedItem.is_pass=e[0].is_pass)},getResultItemScore:function(t){var e=this,s=n["a"].from(this.GE_RESULT_LIST).where((function(t){return t.type===e.dialogParam.type})).join(n["a"].from(this.GE_RESULT_ITEM_LIST).where((function(e){return e.name===t})),(function(t){return t.result_id}),(function(t){return t.result_id}),(function(t,e){return Object(i["a"])(Object(i["a"])({},t),e)})).join(n["a"].from(this.dialogParam.items),(function(t){return t.result_item_id}),(function(t){return t.result_item_id}),(function(t,e){return Object(i["a"])(Object(i["a"])({},t),e)})).first().score;return s},close:function(){this.$emit("closeDialog",!1)},setSnackbar:function(t){this.snackbar.isSnackbar=!0,this.snackbar.message=t,this.snackbar.vertical=!0},generatePDF:function(){this.$refs.html2Pdf.generatePdf()},onProgress:function(t){console.log("onProgress-event",t)},hasStartedGeneration:function(){console.log("hasStartedGeneration")},hasGenerated:function(t){console.log("hasGenerated-event",t)},save:function(){console.log("save"),this.editedItem.worker_id=this.dialogParam.worker_id,this.editedItem.work_id=this.dialogParam.work_id,this.editedItem.result_id=this.dialogParam.result_id,this.editedItem.user_email=this.GE_USER.email,this.editedIndex>-1?(this.payload.index=this.editedIndex,this.payload.workerResultEval=this.editedItem,this.AC_WORKER_RESULT_EVAL_EDIT(this.payload),console.log("this.editedIndex : "+this.editedIndex),this.setSnackbar("업데이트")):(this.AC_WORKER_RESULT_EVAL_PUSH(this.editedItem),this.editedIndex=0,this.setSnackbar("등록"))},submit:function(){this.$refs.observer.validate()},clear:function(){this.editedItem=Object.assign({},this.defaultItem),this.$refs.observer.reset()}})},p=w,x=(s("41cd"),s("2877")),C=s("6544"),S=s.n(C),k=s("8336"),E=s("b0af"),R=s("99d9"),O=s("ac7c"),I=s("62ad"),j=s("a523"),T=s("0fd9"),L=s("8dd9"),y=s("1f4f"),P=s("2db4"),V=s("2fa4"),G=s("8654"),U=Object(x["a"])(p,a,r,!1,null,"5cda2446",null);e["default"]=U.exports;S()(U,{VBtn:k["a"],VCard:E["a"],VCardActions:R["a"],VCardText:R["c"],VCardTitle:R["d"],VCheckbox:O["a"],VCol:I["a"],VContainer:j["a"],VRow:T["a"],VSheet:L["a"],VSimpleTable:y["a"],VSnackbar:P["a"],VSpacer:V["a"],VTextField:G["a"]})}}]);
//# sourceMappingURL=chunk-48448c76.466ace04.js.map