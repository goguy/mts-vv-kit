(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db0d31e8"],{"0ec0":function(t,e,s){},"68b8":function(t,e,s){"use strict";s("0ec0")},d8ba:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{id:"EvalReportDiagstandard",fluid:"",tag:"section"}},[s("v-card",[s("v-card-title",[t._v(" Report ")]),s("v-card-text",[s("v-row",{staticClass:"mt-5"},[s("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[s("v-sheet",{attrs:{width:"700"}},[s("p",{staticClass:"text-center my-1 font-weight-black"},[t._v("교육결과 보고서")]),s("v-sheet",[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3",attrs:{width:"20%"}},[t._v("소속 ")]),s("td",{staticClass:"text-left",attrs:{width:"44%"}},[t._v(" "+t._s(t.dialogParam.agency))]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 ")]),s("td",{staticClass:"text-left",attrs:{width:"18%"}},[t._v(" "+t._s(t.dialogParam.worker_name))])]),s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육일시 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.reg_dt))])]),s("tr",[s("td",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육과정명 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.work_name))])])])])],1),s("v-sheet",{staticClass:"mt-5"},[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v("평가항목 ")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("기준점수 ")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 점수")])])]),s("tbody",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"3"}},[t._v("1. 작업시작 전"),s("br"),t._v(" 준비단계"),s("br"),t._v("(30점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업가이드 숙지")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" "+t._s(t.guideScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업허가서 발행")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.permitScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 적합한 보호구 및 안전장치 선택여부")]),s("td",{staticClass:"text-center"},[t._v(" 30점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.equipScore))])]),s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("2. 작업 처리 사항"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"40%"}},[t._v(" 작업시간 준수여부")]),s("td",{staticClass:"text-center",attrs:{width:"20%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"20%"}},[t._v(" "+t._s(t.workTimeScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업 확인 여부")]),s("td",{staticClass:"text-center"},[t._v(" 40점")]),s("td",{staticClass:"text-center"},[t._v(" "+t._s(t.workConfirmScore))])])]),s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"60%",colspan:"2"}},[t._v(" 총 점")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%"}},[t._v(" 100점")]),s("td",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%"}},[t._v(" "+t._s(t.totalScore))])])])])],1),s("v-sheet",{staticClass:"mt-5"},[s("v-simple-table",[s("thead",[s("tr",[s("td",{staticClass:"text-center font-weight-bold gl3"},[t._v("교육강평")])])]),s("tbody",[s("tr",[s("td",{staticStyle:{height:"150px"}},[t._v(t._s(t.evalItem.rmk))])])])]),s("div",[s("v-checkbox",{staticClass:"font-weight-bold",attrs:{label:"합격여부"},model:{value:t.evalItem.is_pass,callback:function(e){t.$set(t.evalItem,"is_pass",e)},expression:"evalItem.is_pass"}})],1)],1)],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"success",depressed:""},on:{click:t.generatePDF}},[t._v(" Generate PDF ")]),s("v-btn",{attrs:{color:"green darken-1"},nativeOn:{click:function(e){return t.close.apply(null,arguments)}}},[t._v("Close ")])],1)],1),s("div",[s("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"교육결과보고서","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px","html-to-pdf-options":t.htmlToPdfOptions},on:{progress:function(e){return t.onProgress(e)},hasStartedGeneration:function(e){return t.hasStartedGeneration()},hasGenerated:function(e){return t.hasGenerated(e)}}},[s("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[s("section",{staticClass:"pdf-item"},[s("section",{staticClass:"mt-10 mlr-5"},[s("p",{staticClass:"text-center mb-1 font-weight-black fs-20"},[t._v("교육결과 보고서")])]),s("section",{staticClass:"mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3",attrs:{width:"20%"}},[t._v("소속 ")]),s("td",{staticClass:"text-left",attrs:{width:"44%"}},[t._v(" 설비관리팀")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 ")]),s("td",{staticClass:"text-left",attrs:{width:"18%"}},[t._v(" "+t._s(t.dialogParam.worker_name))])]),s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육일시 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.reg_dt))])]),s("tr",[s("th",{staticClass:"text-left font-weight-bold gl3"},[t._v("교육과정명 ")]),s("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v(" "+t._s(t.dialogParam.work_name))])])])])]),s("section",{staticClass:"mt-3 mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v("평가항목 ")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("기준점수 ")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v("교육자 점수")])])]),s("tbody",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"3"}},[t._v("1. 작업시작 전"),s("br"),t._v(" 준비단계"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업가이드 숙지")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.guideScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업허가서 발행")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.permitScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 적합한 보호구 및 안전장치 선택여부")]),s("td",{staticClass:"text-center"},[t._v(" 10점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.equipScore))])]),s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"20%",rowspan:"2"}},[t._v("2. 작업 처리 사항"),s("br"),t._v("(50점) ")]),s("td",{staticClass:"text-left text-caption",attrs:{width:"44%"}},[t._v(" 작업 중 산소농도 측정여부")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(" 10점")]),s("td",{staticClass:"text-center",attrs:{width:"18%"}},[t._v(t._s(t.workTimeScore))])]),s("tr",[s("td",{staticClass:"text-left text-caption"},[t._v(" 작업 확인 여부")]),s("td",{staticClass:"text-center"},[t._v(" 40점")]),s("td",{staticClass:"text-center"},[t._v(t._s(t.workConfirmScore))])])]),s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"64%",colspan:"2"}},[t._v(" 총 점")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(" 100점")]),s("th",{staticClass:"text-center font-weight-bold gl3",attrs:{width:"18%"}},[t._v(t._s(t.totalScore))])])])])]),s("section",{staticClass:"mt-3 mlr-5"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"text-center font-weight-bold gl3"},[t._v("교육강평")])])]),s("tbody",[s("tr",[s("td",{staticStyle:{height:"150px"}},[t._v(t._s(t.evalItem.rmk))])])])]),s("div",[s("label",[t._v(" 합격여부 : "+t._s(null===t.evalItem.is_pass?" ":t.evalItem.is_pass?"합격":"불합격")+" ")])])])])])])],1),s("v-snackbar",{attrs:{vertical:t.snackbar.vertical},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"indigo",text:""},on:{click:function(e){t.snackbar.isSnackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.isSnackbar,callback:function(e){t.$set(t.snackbar,"isSnackbar",e)},expression:"snackbar.isSnackbar"}},[t._v(" "+t._s(t.snackbar.message)+" ")])],1)},r=[],i=s("5530"),c=(s("e9c4"),s("d3b7"),s("a15b"),s("b0c0"),s("2f62")),n=s("0063"),l=s("6480"),o="userStore",d="workStore",_="workerStore",h="workerResultStore",f="workerResultItemStore",v="resultStore",u="resultItemStore",g="workerResultEvalStore",b={components:{VueHtml2pdf:l["a"]},name:"EvalReportDiagstandard",props:{dialogParam:Object},data:function(){return{workerResultItemList:[],htmlToPdfOptions:{margin:0,filename:"교육결과보고서.pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:1,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}},evalItem:{is_pass:null,rmk:""},snackbar:{isSnackbar:!1,vertical:!0,message:""}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["c"])(o,["GE_USER"])),Object(c["c"])(d,["GE_WORK_LIST"])),Object(c["c"])(_,["GE_WORKER"])),Object(c["c"])(h,["GE_WORKER_RESULT","GE_WORKER_RESULT_LIST"])),Object(c["c"])(f,["GE_WORKER_RESULT_ITEM","GE_WORKER_RESULT_ITEM_LIST"])),Object(c["c"])(v,["GE_RESULT","GE_RESULT_LIST"])),Object(c["c"])(u,["GE_RESULT_ITEM","GE_RESULT_ITEM_LIST"])),Object(c["c"])(g,["GE_WORKER_RESULT_EVAL","GE_WORKER_RESULT_EVAL_LIST"])),{},{guideScore:function(){return this.getResultItemScore("guide")},permitScore:function(){return this.getResultItemScore("permit")},equipScore:function(){return this.getResultItemScore("equip_choice")},workTimeScore:function(){return this.getResultItemScore("work_time")},workConfirmScore:function(){return this.getResultItemScore("work_confirm")},totalScore:function(){var t=this.guideScore+this.permitScore+this.equipScore+this.workTimeScore+this.workConfirmScore;return t}}),mounted:function(){console.log("dialogParam",JSON.stringify(this.dialogParam,null,2)),this.setWorkerResultEvalList()},methods:{setWorkerResultEvalList:function(){var t=this,e=n["a"].from(this.GE_WORKER_RESULT_EVAL_LIST).where((function(e){return e.worker_id===t.dialogParam.worker_id&&e.work_id===t.dialogParam.work_id&&e.result_id===t.dialogParam.result_id})).toArray();console.log("query",JSON.stringify(e,null,2)),e.length>0&&(this.evalItem.rmk=e[0].rmk,this.evalItem.is_pass=e[0].is_pass)},getResultItemScore:function(t){var e=this,s=n["a"].from(this.GE_RESULT_LIST).where((function(t){return t.type===e.dialogParam.type})).join(n["a"].from(this.GE_RESULT_ITEM_LIST).where((function(e){return e.name===t})),(function(t){return t.result_id}),(function(t){return t.result_id}),(function(t,e){return Object(i["a"])(Object(i["a"])({},t),e)})).join(n["a"].from(this.dialogParam.items),(function(t){return t.result_item_id}),(function(t){return t.result_item_id}),(function(t,e){return Object(i["a"])(Object(i["a"])({},t),e)})).first().score;return s},close:function(){this.$emit("closeDialog",!1)},setSnackbar:function(t){this.snackbar.isSnackbar=!0,this.snackbar.message=t,this.snackbar.vertical=!0},generatePDF:function(){this.$refs.html2Pdf.generatePdf()},onProgress:function(t){console.log("onProgress-event",t)},hasStartedGeneration:function(){console.log("hasStartedGeneration")},hasGenerated:function(t){console.log("hasGenerated-event",t)}}},m=b,w=(s("68b8"),s("2877")),p=s("6544"),C=s.n(p),x=s("8336"),S=s("b0af"),k=s("99d9"),E=s("ac7c"),R=s("62ad"),O=s("a523"),T=s("0fd9"),I=s("8dd9"),L=s("1f4f"),j=s("2db4"),P=s("2fa4"),G=Object(w["a"])(m,a,r,!1,null,"c4a7cb7e",null);e["default"]=G.exports;C()(G,{VBtn:x["a"],VCard:S["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCheckbox:E["a"],VCol:R["a"],VContainer:O["a"],VRow:T["a"],VSheet:I["a"],VSimpleTable:L["a"],VSnackbar:j["a"],VSpacer:P["a"]})}}]);
//# sourceMappingURL=chunk-db0d31e8.0786995b.js.map