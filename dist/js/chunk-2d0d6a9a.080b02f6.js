(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6a9a"],{7407:function(t,r,e){"use strict";e.r(r);var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-container",{attrs:{id:"Cards",tag:"section",fluid:""}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-toolbar-title",[t._v(t._s(t.dialogParam.name)+"님의 교육활동정보")]),e("v-spacer"),e("v-toolbar-items",[e("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(r){return t.close.apply(null,arguments)}}},[e("v-icon",[t._v("mdi-close")])],1)],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("정비작업선택")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("정비작업선택")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-card-text",[e("v-list",{staticClass:"pb-0"},t._l(t.workInfo,(function(r,i){return e("v-list-item",{key:r.name,class:"d-flex align-center px-0 "+(i>0?"mt-4":"")},[e("div",{staticClass:"d-flex align-center flex-grow-1 flex-wrap"},[e("div",{staticClass:"me-2"},[e("div",{staticClass:"font-weight-semibold"},[e("span",{staticClass:"text--primary text-base me-1"},[t._v(t._s(r.time))])]),e("v-list-item-subtitle",{staticClass:"text-xs"},[e("h4",{staticClass:"font-weight-semibold"},[t._v(" "+t._s(r.name)+" ")])])],1),e("v-spacer"),e("div",[e("h4",{staticClass:"font-weight-semibold"},[t._v(" "+t._s(r.rmk)+" ")])])],1)])})),1)],1)],1)],1),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("교육생정보")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("교육생정보입력")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-list-item",{attrs:{"three-line":""}},[e("v-list-item-content",[e("div",{staticClass:"text-overline mb-4"},[t._v(" ID : "+t._s(t.workerInfo.worker_id)+" ")]),e("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" 성명: "+t._s(t.workerInfo.name)+" ")]),e("v-list-item-subtitle",[t._v(" 등록일 : "+t._s(t.workerInfo.reg_dt))])],1),e("v-list-item-avatar",{attrs:{tile:"",size:"60",color:"grey"}})],1)],1)],1),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("작업가이드")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("작업가이드")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-card-text",[t._v(" "+t._s(t.guideWorkInfo.length>0?"동의했습니다.":"비동의했습니다.")+" ")])],1)],1),e("v-col",{attrs:{cols:"12",md:"3"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("작업허가서")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("작업허가서")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-card-text",[t._v(" "+t._s(t.orderWorkInfo.length>0?"동의했습니다.":"비동의했습니다.")+" ")])],1)],1),e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("보호구선택")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("보호구선택")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v(" ["+t._s(t.workInfo[0].name)+"] 보호구장비")]),e("v-spacer")],1),e("v-list",[t._l(t.queryWorkEquipment("protect"),(function(r){return[e("v-list-item",{key:r.name},[e("v-list-item-avatar",[e("v-icon",[t._v("mdi-bike")])],1),e("v-list-item-title",{domProps:{textContent:t._s(r.name)}})],1)]}))],2)],1)],1),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v(" ["+t._s(t.workerInfo.name)+"] 선택한 보호구장비")]),e("v-spacer")],1),e("v-list",[t._l(t.queryWorkerEquipment("protect"),(function(r){return[e("v-list-item",{key:r.name},[e("v-list-item-avatar",[e("v-icon",[t._v("mdi-bike")])],1),e("v-list-item-title",{domProps:{textContent:t._s(r.name)}})],1)]}))],2)],1)],1),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v(" 결과확인")]),e("v-spacer")],1),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersQWAWE,items:t.queryWorkAndWorkerEquipment("protect"),"items-per-page":15}})],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("안전장비선택")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("안전장비선택")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v(" ["+t._s(t.workInfo[0].name)+"] 안전장비")]),e("v-spacer")],1),e("v-list",[t._l(t.queryWorkEquipment("safety"),(function(r){return[e("v-list-item",{key:r.name},[e("v-list-item-avatar",[e("v-icon",[t._v("mdi-bike")])],1),e("v-list-item-title",{domProps:{textContent:t._s(r.name)}})],1)]}))],2)],1)],1),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v(" ["+t._s(t.workerInfo.name)+"] 선택한 안전장비")]),e("v-spacer")],1),e("v-list",[t._l(t.queryWorkerEquipment("safety"),(function(r){return[e("v-list-item",{key:r.name},[e("v-list-item-avatar",[e("v-icon",[t._v("mdi-bike")])],1),e("v-list-item-title",{domProps:{textContent:t._s(r.name)}})],1)]}))],2)],1)],1),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v(" 결과확인")]),e("v-spacer")],1),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersQWAWE,items:t.queryWorkAndWorkerEquipment("safety"),"items-per-page":10}})],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-card-title",{staticClass:"align-start"},[e("span",[t._v("작업하기")]),e("v-spacer"),e("v-btn",{staticClass:"me-n3 mt-n2",attrs:{icon:"",small:""},on:{click:function(r){return t.openDialog("작업하기")}}},[e("v-icon",[t._v(" mdi-dots-vertical ")])],1)],1),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersWATI,items:t.workAndworkerTdmotionInfo,"items-per-page":5}})],1)],1)],1)],1),e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(r){t.dialog=r},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v(" "+t._s(t.workerActivityName)+" ")]),e("v-card-text",[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersWAHL,items:t.queryWorkerActivityHistoryList,"items-per-page":5}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(r){t.dialog=!1}}},[t._v(" close ")])],1)],1)],1)],1)],1)},a=[],n=e("5530"),o=(e("d3b7"),e("4de4"),e("b0c0"),e("a15b"),e("e9c4"),e("2f62")),s=e("0063"),c="workStore",l="workerStore",u="equipmentStore",v="workEquipmentStore",d="workerEquipmentStore",m="tdmotionStore",_="workTdmotionStore",f="workerTdmotionStore",k="activityStore",p="workerActivityStore",y="workerActivityHistoryStore",b={name:"WorkerActyDiagR",props:{dialogParam:Object},data:function(){return{dialog:!1,queryWorkerActivityHistoryList:Array,workerActivityName:String,headersQWAWE:[{text:"장비명",align:"start",value:"name"},{text:"작업자아이디",value:"worker_id"}],headersWATI:[{text:"2D모션ID",align:"start",sortable:!1,value:"work_motion_id"},{text:"2D모션명",value:"work_montion_name"},{text:"순서",value:"disp_ord"},{text:"교육생2D모션ID",value:"worker_motion_id"},{text:"2D모션명",value:"worker_montion_name"}],headersWAHL:[{text:"활동ID",align:"start",sortable:!1,value:"activity_id"},{text:"작업자ID",value:"worker_id"},{text:"도메인",value:"domain"},{text:"도메인ID",value:"domain_id"},{text:"타입",value:"type"},{text:"상태",value:"state"},{text:"등록일",value:"reg_dt"}]}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["c"])(c,["GE_WORK_LIST"])),Object(o["c"])(l,["GE_WORKER"])),Object(o["c"])(u,["GE_EQUIPMENT_LIST"])),Object(o["c"])(v,["GE_WORK_EQUIPMENT_LIST"])),Object(o["c"])(d,["GE_WORKER_EQUIPMENT_LIST"])),Object(o["c"])(m,["GE_TDMOTION_LIST"])),Object(o["c"])(_,["GE_WORK_TDMOTION_LIST"])),Object(o["c"])(f,["GE_WORKER_TDMOTION_LIST"])),Object(o["c"])(k,["GE_ACTIVITY_LIST"])),Object(o["c"])(p,["GE_WORKER_ACTIVITY_LIST"])),Object(o["c"])(y,["GE_WORKER_ACTIVITY_HISTORY_LIST"])),{},{workInfo:function(){var t=this,r=s["a"].from(this.GE_WORK_LIST).where((function(r){return r.work_id===t.dialogParam.work_id})).toArray();return r},workerInfo:function(){return this.GE_WORKER},guideWorkInfo:function(){return this.queryWorkerActivity.filter((function(t){return"작업가이드"===t.name}))},orderWorkInfo:function(){return this.queryWorkerActivity.filter((function(t){return"작업허가서"===t.name}))},queryWorkerActivity:function(){var t=this,r=s["a"].from(this.GE_ACTIVITY_LIST).join(s["a"].from(this.GE_WORKER_ACTIVITY_LIST).where((function(r){return r.worker_id===t.dialogParam.worker_id})),(function(t){return t.activity_id}),(function(t){return t.activity_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).orderBy((function(t){return t.disp_ord})).toArray();return r},workAndworkerTdmotionInfo:function(){var t=this,r=s["a"].from(this.GE_TDMOTION_LIST).where((function(t){return"normal"===t.type})).select((function(t){return{work_motion_id:t.motion_id,work_montion_name:t.name,type:t.type}})).join(s["a"].from(this.GE_WORK_TDMOTION_LIST).where((function(r){return r.work_id===t.dialogParam.work_id&&"normal"===r.type})),(function(t){return t.work_motion_id}),(function(t){return t.motion_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).toArray(),e=s["a"].from(this.GE_TDMOTION_LIST).select((function(t){return{worker_motion_id:t.motion_id,worker_montion_name:t.name,type:t.type}})).join(s["a"].from(this.GE_WORKER_TDMOTION_LIST).where((function(r){return r.worker_id===t.GE_WORKER.worker_id})),(function(t){return t.worker_motion_id}),(function(t){return t.motion_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).toArray(),i=s["a"].from(r).groupJoin(s["a"].from(e),(function(t){return t.work_motion_id}),(function(t){return t.worker_motion_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),{},{right:r})})).selectMany((function(t){return t.right.defaultIfEmpty()}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).toArray();return i}}),watch:{},beforeDestroy:function(){},mounted:function(){console.log("dialogParam : "+JSON.stringify(this.dialogParam,null,2))},methods:{close:function(){this.$emit("closeDialog",!1)},initgQuery:function(){var t=s["a"].from(this.GE_WORKER).toArray();console.log("query1 : "+JSON.stringify(t,null,2))},queryWorkEquipment:function(t){var r=this,e=s["a"].from(this.GE_EQUIPMENT_LIST).join(s["a"].from(this.GE_WORK_EQUIPMENT_LIST).where((function(t){return t.work_id===r.dialogParam.work_id})),(function(t){return t.equipment_id}),(function(t){return t.equipment_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).where((function(r){return r.type===t})).orderBy((function(t){return t.disp_ord})).toArray();return e},queryWorkerEquipment:function(t){var r=this,e=s["a"].from(this.GE_EQUIPMENT_LIST).join(s["a"].from(this.GE_WORKER_EQUIPMENT_LIST).where((function(t){return t.worker_id===r.dialogParam.worker_id})),(function(t){return t.equipment_id}),(function(t){return t.equipment_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).where((function(r){return r.type===t})).orderBy((function(t){return t.disp_ord})).toArray();return e},queryWorkAndWorkerEquipment:function(t){var r=s["a"].from(this.queryWorkEquipment(t)).groupJoin(s["a"].from(this.queryWorkerEquipment(t)),(function(t){return t.equipment_id}),(function(t){return t.equipment_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),{},{right:r})})).selectMany((function(t){return t.right.defaultIfEmpty()}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).toArray();return r},queryWorkerActivityHistory:function(t){var r=this,e=s["a"].from(this.GE_ACTIVITY_LIST).where((function(r){return r.name===t})).join(s["a"].from(this.GE_WORKER_ACTIVITY_LIST).where((function(t){return t.worker_id===r.dialogParam.worker_id})),(function(t){return t.activity_id}),(function(t){return t.activity_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).join(s["a"].from(this.GE_WORKER_ACTIVITY_HISTORY_LIST).where((function(t){return t.worker_id===r.dialogParam.worker_id})),(function(t){return t.activity_id}),(function(t){return t.activity_id}),(function(t,r){return Object(n["a"])(Object(n["a"])({},t),r)})).orderBy((function(t){return t.activity_id})).toArray();console.log("query : "+JSON.stringify(e,null,2)),this.queryWorkerActivityHistoryList=e},openDialog:function(t){this.dialog=!0,this.workerActivityName=t,this.queryWorkerActivityHistory(t)}}},I=b,w=e("2877"),O=e("6544"),g=e.n(O),T=e("8336"),h=e("b0af"),E=e("99d9"),W=e("62ad"),j=e("a523"),C=e("8fea"),A=e("169a"),S=e("132d"),q=e("8860"),x=e("da13"),R=e("8270"),L=e("5d23"),D=e("0fd9"),V=e("2fa4"),G=e("71d9"),P=e("2a7f"),N=Object(w["a"])(I,i,a,!1,null,null,null);r["default"]=N.exports;g()(N,{VBtn:T["a"],VCard:h["a"],VCardActions:E["a"],VCardText:E["c"],VCardTitle:E["d"],VCol:W["a"],VContainer:j["a"],VDataTable:C["a"],VDialog:A["a"],VIcon:S["a"],VList:q["a"],VListItem:x["a"],VListItemAvatar:R["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"],VRow:D["a"],VSpacer:V["a"],VToolbar:G["a"],VToolbarItems:P["a"],VToolbarTitle:P["b"]})}}]);
//# sourceMappingURL=chunk-2d0d6a9a.080b02f6.js.map